% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cma.R
\name{prepare_ccds_fpca}
\alias{prepare_ccds_fpca}
\title{Prepare ccds FPCA Dataset}
\usage{
prepare_ccds_fpca(input_data, k_mean = 30, k_fpca = 15)
}
\arguments{
\item{input_data}{Raw ccds data frame containing:
\itemize{
\item \code{percent_change}: Functional response variable
\item \code{seconds}: Time variable
\item \code{use}: Binary grouping variable
\item \code{subject}: Subject identifier
}}

\item{k_mean}{Number of basis functions for mean model smooth terms (default: 30)}

\item{k_fpca}{Number of knots for FPCA estimation (default: 15)}
}
\value{
A tibble containing:
\itemize{
\item Original ccds variables
\item FPCA eigenfunctions (Phi1, Phi2,...)
\item Sorted by subject and time
}
}
\description{
Processes ccds data by fitting a mean GAM model, extracting residuals, performing FPCA,
and merging the results to create an enhanced dataset for functional regression analysis.
}
\examples{
data(ccds)
processed_data <- prepare_ccds_fpca(ccds)

}
